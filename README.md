# Word Battle - 多人在线单词图片匹配游戏 v0.4.2

一个基于WebSocket的多人在线单词图片匹配游戏平台，采用现代化设计，支持多设备实时连接和房间管理。

## 🎮 游戏特色

- **🎯 单词图片匹配** - 通过选择正确图片来匹配英语单词
- **👥 多人实时对战** - 支持多个玩家同时在线游戏
- **🏠 智能房间系统** - 创建和加入游戏房间，实时同步状态
- **📱 完美移动端适配** - 针对移动设备优化的触摸交互
- **🌐 中英文双语界面** - 支持中英文动态切换
- **🎨 Apple风格设计** - 采用现代化简洁的UI设计语言

## ✨ 核心功能

### 🎯 游戏系统
- **实时匹配游戏** - 单词与图片的快速匹配挑战
- **智能计分系统** - 实时显示得分和游戏进度
- **预加载机制** - 确保游戏资源完全加载后再开始
- **防误触设计** - 移动端优化的触摸响应机制

### 👥 多人协作
- **房间管理** - 创建、加入、退出房间
- **玩家状态同步** - 实时显示玩家在线状态和游戏进度
- **房主权限** - 房主可以控制游戏开始
- **自动房间解散** - 房主离开时自动解散房间

### 🛠️ 内容管理
- **单词管理系统** - 密码保护的单词和图片管理
- **图片资源管理** - 支持添加、编辑、删除单词对应图片
- **图片批量处理** - 本地工具批量生成WebP格式图片
- **单词库浏览** - 按字母分类浏览所有单词
- **实时预览** - 管理界面实时预览图片效果

### 🌐 国际化支持
- **中英文切换** - 一键切换界面语言
- **语言偏好记忆** - 自动记住用户的语言选择
- **完整翻译覆盖** - 所有界面元素支持双语显示

## 🛠️ 技术栈

### 后端技术
- **Node.js** - 服务器运行环境
- **Express.js** - Web应用框架
- **Socket.IO** - 实时双向通信
- **CORS** - 跨域资源共享

### 前端技术
- **HTML5** - 语义化标记
- **CSS3** - 现代化样式设计
- **JavaScript ES6+** - 现代JavaScript特性
- **WebSocket** - 实时通信协议

### 设计系统
- **Apple设计语言** - 简洁、优雅的视觉风格
- **响应式设计** - 完美适配各种屏幕尺寸
- **CSS变量系统** - 统一的设计令牌管理
- **现代化动画** - 流畅的交互反馈

### 数据管理
- **JSON文件存储** - 轻量级数据存储方案
- **本地图片资源** - 优化的图片加载机制
- **浏览器本地存储** - 用户偏好和设置保存

## 🚀 快速开始

### 环境要求
- Node.js 14.0 或更高版本
- npm 或 yarn 包管理器

### 安装步骤

1. **克隆项目**
```bash
git clone https://github.com/XujunNoahWang/word-battle.git
cd word-battle
```

2. **安装依赖**
```bash
npm install
```

3. **启动服务器**
```bash
# 生产模式
npm start

# 开发模式（支持热重载）
npm run dev
```

4. **访问应用**
- **本地访问**: http://localhost:3000
- **局域网访问**: http://[你的IP地址]:3000

## 🎯 游戏流程

### 1. 进入大厅
- 自动分配玩家身份（player1, player2...）
- 查看在线玩家和活动房间
- 访问单词管理系统

### 2. 房间管理
- **创建房间**: 输入房间名称创建新房间
- **加入房间**: 点击房间卡片加入现有房间
- **房间状态**: 实时显示房间内玩家状态

### 3. 游戏准备
- **资源预加载**: 系统自动预加载游戏图片
- **进度同步**: 显示所有玩家的加载进度
- **自动开始**: 所有玩家准备就绪后自动开始

### 4. 游戏进行
- **单词显示**: 清晰显示当前单词
- **图片选择**: 从多个图片中选择正确匹配
- **实时反馈**: 立即显示选择结果（绿色/红色边框）
- **进度更新**: 实时显示得分和游戏进度

### 5. 游戏结算
- **得分统计**: 显示每个玩家的最终得分
- **排名展示**: 按得分排序显示玩家排名
- **继续游戏**: 选择再来一局或返回大厅

## 🛠️ 管理功能

### 单词管理系统
- **访问方式**: 点击用户名进入管理界面
- **默认密码**: 0627
- **功能特性**:
  - 添加新单词和对应图片
  - 编辑现有单词信息
  - 删除不需要的单词
  - 实时预览图片效果

### 单词库浏览
- **字母导航**: 按字母快速定位单词
- **卡片展示**: 美观的单词卡片布局
- **无限滚动**: 支持大量单词的流畅浏览
- **返回顶部**: 快速回到页面顶部

### 图片批量处理工具
- **工具位置**: `tools/generate_webp.py`
- **功能用途**: 批量将JPG图片转换为WebP格式，提升前端加载效率
- **使用要求**: 
  - Python 3 环境
  - Pillow库（`pip install pillow`）
- **使用方法**:
  ```bash
  # 在项目根目录下运行
  python tools/generate_webp.py
  ```
- **注意事项**:
  - 仅供本地管理员手动使用
  - 建议在图片资源更新后运行
  - 仅在本地生成WebP文件，不会自动上传

## 📱 移动端优化

### 触摸交互
- **防误触设计** - 优化的触摸响应机制
- **防缩放锁定** - 防止双指缩放干扰游戏
- **防长按保存** - 防止图片被长按保存
- **页面滚动锁定** - 游戏期间锁定页面滚动

### 响应式设计
- **自适应布局** - 完美适配各种屏幕尺寸
- **触摸友好** - 适合手指操作的按钮大小
- **视觉优化** - 移动端优化的字体和间距

## 🌐 网络配置

### 局域网部署
1. **服务器配置**
```javascript
// 确保监听所有网络接口
server.listen(3000, '0.0.0.0');
```

2. **防火墙设置**
- **Windows**: 允许Node.js通过防火墙，开放3000端口
- **macOS/Linux**: 检查系统防火墙设置

3. **获取本机IP**
```bash
# Windows
ipconfig

# macOS/Linux
ifconfig
```

### 端口配置
- **前端服务**: 3000端口
- **WebSocket**: 3001端口

## 📁 项目结构

```
WordBattle/
├── data/                    # 数据文件
│   ├── images/             # 图片资源库
│   └── wordlist.json       # 单词数据文件
├── public/                 # 前端文件
│   ├── index.html         # 主页面
│   ├── styles.css         # 样式文件
│   ├── script.js          # 前端逻辑
│   └── i18n/              # 国际化文件
│       ├── i18n.js        # 国际化配置
│       └── translations.js # 翻译文件
├── tools/                  # 开发工具
│   └── generate_webp.py   # 图片批量处理脚本
├── server.js              # 后端服务器
├── start.js               # 启动脚本
├── package.json           # 项目配置
└── README.md             # 说明文档
```

## 🔧 开发指南

### 代码规范
- **ES6+语法** - 使用现代JavaScript特性
- **语义化命名** - 清晰的变量和函数命名
- **模块化设计** - 良好的代码组织结构
- **注释完善** - 关键逻辑添加必要注释

### 设计原则
- **用户体验优先** - 注重交互流畅性
- **视觉一致性** - 统一的设计语言
- **响应式设计** - 适配各种设备
- **性能优化** - 快速加载和响应

## 🐛 故障排除

### 常见问题

1. **连接问题**
   - 检查服务器是否正常启动
   - 确认端口3000未被占用
   - 检查防火墙设置
   - 确保在同一局域网内

2. **游戏问题**
   - 图片加载失败：检查图片路径和格式
   - 预加载卡住：刷新页面重试
   - 得分不更新：检查网络连接状态

3. **管理问题**
   - 无法进入管理界面：确认密码正确
   - 图片上传失败：检查图片大小和格式
   - 单词重复：检查是否已存在相同单词

### 重启服务
```bash
# 停止服务
npm run stop

# 重新启动
npm start
```

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来改进项目！

---

**Word Battle v0.4.2** - 让学习英语变得有趣！ 