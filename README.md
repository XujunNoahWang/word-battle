# Word Battle - 多人在线游戏平台 v0.3.5.3

一个基于WebSocket的多人在线单词图片匹配游戏平台，支持多设备实时连接和房间管理。

## 最新特性 (v0.3.5.3)

- 🎨 **全新UI设计** - 采用Apple设计语言，提供现代化和优雅的用户界面
- 🏷️ **Alpha标签** - 在游戏标题旁显示优雅的渐变Alpha标签
- 🔐 **单词管理系统** - 支持密码保护的单词和图片管理功能
- 🎯 **预加载系统** - 游戏开始前预加载图片资源，确保流畅体验
- 💫 **交互优化** - 优化用户名显示和交互效果，提供更直观的点击反馈
- 📱 **响应式设计** - 完美适配PC和移动设备

## 功能特点

- 🎮 **多人实时游戏** - 支持多个玩家同时在线
- 🏠 **房间系统** - 创建和加入游戏房间
- 📱 **多设备支持** - PC、手机等设备通过浏览器访问
- 🔄 **实时同步** - 玩家状态和房间信息实时更新
- 💾 **身份持久化** - 刷新页面后保持玩家身份
- 🌐 **局域网支持** - 支持局域网内多设备连接
- 🎯 **游戏机制** - 单词图片匹配，实时计分
- 🔍 **预加载系统** - 确保游戏资源加载完成再开始
- 🛠️ **单词管理** - 支持添加、编辑和删除单词及其对应图片

## 技术栈

- **后端**: Node.js + Express + Socket.IO
- **前端**: HTML5 + CSS3 + JavaScript
- **设计**: 现代化简洁UI，采用Apple设计语言
- **存储**: 本地JSON数据管理
- **部署**: 支持本地和局域网部署

## 快速开始

### 1. 安装依赖

```bash
npm install
```

### 2. 启动服务器

```bash
npm start
```

或者使用开发模式（支持热重载）：

```bash
npm run dev
```

### 3. 访问应用

- **本地访问**: http://localhost:3000
- **局域网访问**: http://[你的IP地址]:3000

## 游戏流程

1. **进入大厅**: 自动分配玩家身份
2. **创建/加入房间**: 选择创建新房间或加入现有房间
3. **准备阶段**: 系统预加载游戏资源
4. **开始游戏**: 所有玩家准备就绪后开始
5. **游戏环节**: 匹配单词和图片，实时计分
6. **结算阶段**: 显示游戏结果和得分排名

## 单词管理系统

### 访问方式
- 点击用户名进入管理界面
- 默认密码：0627

### 功能
- 添加新的单词和图片
- 编辑现有单词
- 删除单词
- 预览图片

## 项目结构

```
WordBattle/
├── data/              # 数据文件
│   ├── images/        # 图片资源
│   └── wordlist.json  # 单词数据
├── server.js          # 后端服务器
├── start.js           # 启动脚本
├── package.json       # 项目配置
├── public/            # 前端文件
│   ├── index.html    # 主页面
│   ├── styles.css    # 样式文件
│   └── script.js     # 前端逻辑
└── README.md         # 说明文档
```

## 端口配置

- **前端服务**: 3000端口
- **WebSocket**: 3001端口

## 使用说明

### 游戏大厅

1. **玩家身份**: 每个设备会自动分配唯一身份（player1, player2...）
2. **在线玩家**: 查看当前在线的其他玩家及其状态
3. **活动房间**: 查看所有可加入的游戏房间
4. **单词管理**: 点击用户名进入单词管理界面（需要密码）

### 房间系统

1. **创建房间**: 点击"创建房间"按钮，输入房间名称
2. **加入房间**: 点击房间卡片即可加入
3. **房间管理**: 房主可以开始游戏，所有人都可以退出房间
4. **房间解散**: 房主离开时房间自动解散

### 游戏流程

1. **预加载阶段**: 
   - 进入房间后开始预加载图片资源
   - 显示每个玩家的加载进度
   - 所有玩家加载完成后自动开始游戏

2. **游戏阶段**:
   - 显示单词和多个图片选项
   - 选择正确匹配可得分
   - 实时显示游戏进度和得分

3. **结算阶段**:
   - 显示每个玩家的最终得分
   - 可以选择再来一局或返回大厅

### 玩家状态

- **空闲**: 在游戏大厅中
- **在房间**: 在房间内等待
- **预加载**: 正在加载游戏资源
- **游戏中**: 正在进行游戏
- **结算中**: 查看游戏结果

## 局域网设置

### 服务器配置

确保服务器监听所有网络接口：

```javascript
server.listen(3000, '0.0.0.0');
```

### 防火墙设置

如果无法访问，请检查防火墙设置：

1. **Windows**:
   - 允许Node.js通过防火墙
   - 开放3000和3001端口
   - 或临时关闭防火墙测试

2. **macOS/Linux**:
   - 检查系统防火墙设置
   - 确保端口未被占用

### 获取本机IP

```bash
# Windows
ipconfig

# macOS/Linux
ifconfig
```

## 开发指南

### 版本历史

- **v0.3.5.3**: 优化用户界面交互，改进用户名按钮设计
- **v0.3.5.2**: 优化面板高度和对齐方式
- **v0.3.5.1**: 添加Alpha标签
- **v0.3.5**: 添加单词管理密码保护
- **v0.3.4**: 优化UI设计，采用Apple设计语言

### 开发规范

1. **代码风格**:
   - 使用ES6+语法
   - 保持代码简洁清晰
   - 添加必要的注释

2. **UI设计**:
   - 遵循Apple设计规范
   - 注重交互体验
   - 保持视觉一致性

3. **版本控制**:
   - 语义化版本号
   - 清晰的提交信息
   - 及时标记版本

## 故障排除

### 常见问题

1. **连接问题**
   - 检查服务器是否启动
   - 确认端口未被占用
   - 检查防火墙设置
   - 确保在同一局域网内

2. **游戏问题**
   - 图片加载失败：检查图片路径和格式
   - 预加载卡住：刷新页面重试
   - 得分不更新：检查网络连接

3. **管理问题**
   - 无法进入管理界面：确认密码正确
   - 图片上传失败：检查图片大小和格式
   - 单词重复：检查是否已存在

### 重启服务

如果遇到问题，可以尝试重启服务：

```bash
# 停止服务
npm run stop

# 重新启动
npm start
```

## 性能指标

- 支持10+同时在线用户
- 消息延迟<500ms
- 页面加载时间<3秒
- 图片预加载进度实时显示

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 联系方式

如有问题或建议，请通过以下方式联系：

- 提交GitHub Issue
- 发送Pull Request
- 在项目中提出建议 