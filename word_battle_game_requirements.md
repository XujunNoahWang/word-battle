# Word Battle 游戏功能需求文档

## 1. 游戏基本设置

### 1.1 游戏规模
- 每局游戏固定5题
- 玩家数量限制：1-4人
- 每题时限：5秒倒计时

### 1.2 计分规则
- 答对得分：100分
- 答错得分：0分（不扣分）
- 超时处理：0分

### 1.3 题目设置
- 单词随机出现，不按字母顺序或JSON文件顺序
- 每个单词在一局游戏中只出现一次
- 每题显示4张图片（2x2布局）
  * 1张正确图片
  * 3张干扰图片
  * 同一题中的4张图片必须不同
  * 不同题目可以重复使用图片

## 2. 游戏流程

### 2.1 游戏开始
- 房主点击开始游戏
- 显示3秒准备倒计时
- 倒计时结束后所有玩家同时进入第一题

### 2.2 游戏进行
- 每题界面显示内容：
  * 随机单词
  * 2x2布局的4张图片
  * 5秒倒计时器
  * 当前进度（第X题/共5题）
  * 所有玩家的实时得分
  * 未完成玩家数量提示

### 2.3 答题反馈
- 玩家点击图片后立即显示：
  * 正确答案标记
  * 玩家选择是否正确
  * 得分变化情况

### 2.4 题目切换
- 切换条件（满足任一即可）：
  * 所有玩家完成作答
  * 5秒倒计时结束
- 第2-5题直接开始，无需准备倒计时

## 3. 游戏结束

### 3.1 正常结束
- 触发条件：5题全部完成
- 结束界面显示：
  * 所有玩家的最终得分
  * 排名情况（分数从高到低）
  * "关闭"按钮
- 点击关闭后返回游戏房间

### 3.2 异常结束
- 触发条件：任何玩家断线
- 结束界面显示：
  * 提示信息："由于玩家[玩家名]断线，游戏提前结束"
  * 当前的得分和排名情况
  * "关闭"按钮
- 点击关闭后返回游戏房间

## 4. 技术要求

### 4.1 同步要求
- 所有玩家同时进入每一题
- 所有玩家看到相同的：
  * 单词顺序
  * 图片布局
  * 倒计时
  * 得分情况

### 4.2 实时性要求
- 实时更新玩家得分
- 实时显示未完成人数
- 实时处理玩家断线情况

### 4.3 数据处理
- 确保单词不重复出现
- 确保每题的4张图片不重复
- 正确处理玩家得分统计
- 正确处理排名计算

## 5. MVP阶段限制
- 仅使用5个单词进行测试
- 可以重复使用现有图片资源
- 保持基本游戏流程完整
- 确保核心功能正常运行 